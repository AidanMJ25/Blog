<!DOCTYPE html>
<html class="no-js" lang="en">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Controlling SwitchBot Devices with Shortcuts and the Web API - Aidan Maurin-Jones</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="With a couple of Shortcuts and the SwitchBot Web API, I can fetch my devices and send commands directlyâ€”no app required.">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="Aidan Maurin-Jones" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">Aidan Maurin-Jones</div>
					
				</div>
		</a>
	</div>
		
<nav class="menu">
	<button class="menu__btn" aria-haspopup="true" aria-expanded="false" tabindex="0">
		<span class="menu__btn-title" tabindex="-1">Menu</span>
	</button>
	<ul class="menu__list">
		<li class="menu__item">
			<a class="menu__link" href="/about/">
				
				<span class="menu__text">About</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/contact/">
				
				<span class="menu__text">Contact</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/newsletter/">
				
				<span class="menu__text">Newsletter Archive</span>
				
			</a>
		</li>
	</ul>
</nav>

	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Controlling SwitchBot Devices with Shortcuts and the Web API</h1>
			<div class="post__meta meta">
<div class="meta__item-datetime meta__item">
	<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0a14 14 0 1 1 0 28 1 1 0 0 1 0-28m0 3a3 3 0 1 0 0 22 3 3 0 0 0 0-22m1 4h-2v8.4l6.8 4.4L22 18l-6-3.8z"/></svg><time class="meta__text" datetime="2025-09-24T00:00:00Z">September 24, 2025</time></div></div>
		</header>
		<div class="content post__content clearfix">
			<p>One of my favorite things about Apple&rsquo;s Shortcuts app is how it can bridge the gap between hardware and cloud APIs without requiring a single line of &ldquo;real&rdquo; code. A perfect example of this is SwitchBot: a line of Bluetooth and Wi-Fi-enabled devices that can be controlled through their official app&ndash;or, with a bit of setup, entirely through Shortcuts.</p>
<p>In this post, I&rsquo;ll walk you through two Shortcuts I built: one to fetch a list of all my SwitchBot devices, and another to send commands to them. Together, they let me control my smart home directly from Siri, widgets, or automations.</p>
<hr>
<h3 id="getting-device-details">Getting Device Details</h3>
<p>The first Shortcut is a template for retrieving all registered SwitchBot devices from the company&rsquo;s cloud API.</p>
<p>It starts with a simple Text action where I paste in my API authorization key. That&rsquo;s followed by another Text action containing the endpoint URL:</p>
<pre><code>https://api.switch-bot.com/v1.0/devices/
</code></pre>
<p>The real magic happens in the Get Contents of URL action. Set to GET, this step includes a header named Authorization, pulling in the key from the earlier Text block. When the Shortcut runs, the response contains a full list of my devices and their details&ndash;device IDs, types, names, and more.</p>
<p>For me, this shortcut is especially useful when I need to look up a device ID to use in the second Shortcut.</p>
<hr>
<h3 id="sending-commands">Sending Commands</h3>
<p>The second Shortcut is where things get really interesting: sending a command to a specific device. It uses the same authorization key, but adds a few more building blocks:</p>
<ul>
<li>Device ID (so the API knows which device to target)</li>
<li>Command Type (usually &ldquo;command&rdquo;)</li>
<li>Command (for example, &ldquo;turnOn&rdquo;, &ldquo;turnOff&rdquo;, or &ldquo;toggle&rdquo;)</li>
<li>Parameter (some commands require additional values, like brightness levels or modes)</li>
</ul>
<p>The API endpoint looks like this:</p>
<pre><code>https://api.switch-bot.com/v1.0/devices/{deviceId}/commands
</code></pre>
<p>And instead of GET, this time the Shortcut uses a POST request with a JSON body. The Get Contents of URL action sends fields for commandType, command, and parameter, all filled from earlier Text actions in the Shortcut.</p>
<p>With this structure, I can turn lights on and off, start a fan, or even trigger my SwitchBot Curtain with a single tap. All without ever opening the SwitchBot app.</p>
<hr>
<h3 id="why-this-matters">Why This Matters</h3>
<p>There are countless ways to integrate SwitchBot devices with other smart home platforms, but building these Shortcuts has two big advantages:</p>
<ol>
<li>
<p>Speed &ndash; I can tie them directly into Siri, widgets, or automations. Saying &ldquo;Hey Siri, turn on the fan&rdquo; actually triggers my Shortcut, which hits the SwitchBot API in less than a second.</p>
</li>
<li>
<p>Flexibility &ndash; Since the commands are just text values, I can duplicate the Shortcut and customize it for any device and action I want, without writing code or digging through menus.</p>
</li>
</ol>
<p>For someone like me, who&rsquo;s already knee-deep in Shortcuts for other parts of my life, this setup feels natural. I can slot these actions into bigger workflows&ndash;turning on my SwitchBot devices when I leave work, or including them in a &ldquo;Good Morning&rdquo; routine alongside music and calendar events.</p>
<hr>
<h3 id="final-thoughts">Final Thoughts</h3>
<p>Shortcuts may not be the most glamorous way to control smart home gear, but you can do it. By working directly with the SwitchBot API, these automations skip the app entirely and give me the confidence that when I tap a button, my devices respond.</p>
<p>It&rsquo;s yet another example of how Shortcuts can serve as the glue between platforms, devices, and services. And for SwitchBot users, it&rsquo;s a reminder that sometimes the simplest approach is also the most powerful.</p>
<div class="app-row">
  
<article class="app-card">
<a class="app-card__icon" href="https://www.icloud.com/shortcuts/430120281f3c4b75a59c1bb2dbc90453" target="_blank" rel="noopener">
  <img src="/images//Shortcuts%20Icons/Get%20SwitchBot%20Devices%20Template%20%28Public%29%20Icon.jpg" alt="Get SwitchBot Devices Template app icon" width="35" height="35">
</a>
  <a class="app-card__title" href="https://www.icloud.com/shortcuts/430120281f3c4b75a59c1bb2dbc90453" target="_blank" rel="noopener">
    Get SwitchBot Devices Template
  </a>

  <style>
    .app-card {
      display: inline-flex;        
      flex-direction: column;
      align-items: center;         
      text-align: center;
      margin-right: 1.5rem;        
      margin-bottom: 1rem;
    }
    .app-card__icon img {
      border-radius: 18%;
      display: block;
    }
    .app-card__title {
      margin: 0.25rem 0 0;
      font-size: 1rem;
      font-weight: 600;
      text-decoration: none;       
      color: inherit;              
    }
    .app-card__title:hover {
      text-decoration: underline;  
    }
  </style>
</article>

<article class="app-card">
<a class="app-card__icon" href="https://www.icloud.com/shortcuts/7042d2acf1864db9b7b604e8ea4971ed" target="_blank" rel="noopener">
  <img src="/images//Shortcuts%20Icons/Send%20Command%20to%20SwitchBot%20Template%20%28Public%29%20Icon.jpg" alt="Send Command to SwitchBot Template app icon" width="35" height="35">
</a>
  <a class="app-card__title" href="https://www.icloud.com/shortcuts/7042d2acf1864db9b7b604e8ea4971ed" target="_blank" rel="noopener">
    Send Command to SwitchBot Template
  </a>

  <style>
    .app-card {
      display: inline-flex;        
      flex-direction: column;
      align-items: center;         
      text-align: center;
      margin-right: 1.5rem;        
      margin-bottom: 1rem;
    }
    .app-card__icon img {
      border-radius: 18%;
      display: block;
    }
    .app-card__title {
      margin: 0.25rem 0 0;
      font-size: 1rem;
      font-weight: 600;
      text-decoration: none;       
      color: inherit;              
    }
    .app-card__title:hover {
      text-decoration: underline;  
    }
  </style>
</article>


</div>

<style>
  .app-row {
    display: flex;
    justify-content: left;   
    gap: 0.5rem;                  
    flex-wrap: wrap;
  }
  .app-row > * {
    flex: 0 0 auto;             
  }
</style>

<style>
  .amj-cta { display:flex; flex-direction:column; align-items:flex-start; gap:.5rem; }

  .amj-cta .bmc a { display:inline-block; line-height:0; }
  .amj-cta .bmc img { display:block; }

  .amj-cta .rss .rss-button {
    display:inline-flex; align-items:center; gap:.5em;
    padding:.5em 1em; background:#f26522; color:#fff!important;
    border-radius:.3em; font-weight:600; text-decoration:none; font-size:.75rem;
    transition:background-color .2s ease;
  }
  .amj-cta .rss .rss-button:hover { background:#d35400; }
  .amj-cta .rss .rss-button svg { fill:#fff!important; width:1.2em; height:1.2em; }

  .amj-cta .nl .newsletter-subscribe {
    display:inline-flex; align-items:center; gap:.5em;
    padding:.5em 1em; background:#2F8CFF; color:#fff!important;
    border-radius:.3em; font-weight:600; text-decoration:none; font-size:.75rem;
    transition:background-color .2s ease;
  }
  .amj-cta .nl .newsletter-subscribe:hover { background:#357ABD; }
</style>

<div class="amj-cta">
  <div class="bmc">
    <a href="https://www.buymeacoffee.com/AidanMJ25" target="_blank" rel="noopener">
      <img src="https://cdn.buymeacoffee.com/buttons/v2/arial-yellow.png" alt="Buy Me A Coffee" width="127" height="35" loading="lazy" decoding="async">
    </a>
  </div>

  <div class="rss">
    <a class="rss-button" href="https://aidanmaurinjones.com/posts/index.xml" target="_blank" rel="noopener" aria-label="Subscribe via RSS">
      <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true"><path d="M6.18 17.82a1.82 1.82 0 1 1 0-3.64 1.82 1.82 0 0 1 0 3.64Zm-3-8.18v2.73a8.64 8.64 0 0 1 8.64 8.64h2.73A11.36 11.36 0 0 0 3.18 9.64Zm0-4.09v2.73A15.45 15.45 0 0 1 18.55 23h2.73C21.27 11.73 12.45 2.91 3.18 5.55Z"/></svg>
      <span>Subscribe via RSS</span>
    </a>
  </div>

  <div class="nl">
    <a class="newsletter-subscribe" href="https://buttondown.com/AidanMJ25" target="_blank" rel="noopener">Newsletter via Email</a>
  </div>

  <div class="rss">
    <a class="rss-button" href="https://aidanmaurinjones.com/newsletter/index.xml" target="_blank" rel="noopener" aria-label="Newsletter via RSS">
      <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true"><path d="M6.18 17.82a1.82 1.82 0 1 1 0-3.64 1.82 1.82 0 0 1 0 3.64Zm-3-8.18v2.73a8.64 8.64 0 0 1 8.64 8.64h2.73A11.36 11.36 0 0 0 3.18 9.64Zm0-4.09v2.73A15.45 15.45 0 0 1 18.55 23h2.73C21.27 11.73 12.45 2.91 3.18 5.55Z"/></svg>
      <span>Newsletter via RSS</span>
    </a>
  </div>
</div>

		</div>
		<footer class="post__footer">
			
<div class="post__tags tags clearfix">
	<svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M4 0h8s2 0 4 2l15 15s2 2 0 4L21 31s-2 2-4 0L2 16s-2-2-2-4V3s0-3 4-3m3 10a3 3 0 0 0 0-6 3 3 0 0 0 0 6"/></svg>
	<ul class="tags__list">
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/shortcuts/" rel="tag">Shortcuts</a>
		</li>
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/smart-home/" rel="tag">Smart Home</a>
		</li>
	</ul>
</div>
		</footer>
	</article>
</main>




			</div>
			<aside class="sidebar"><div class="widget-search widget">
	<form class="widget-search__form" role="search" method="get" action="https://google.com/search">
		<input class="widget-search__field" type="search" placeholder="Searchâ€¦" value="" name="q" aria-label="Searchâ€¦">
		<input class="widget-search__submit" type="submit" value="Search">
		<input type="hidden" name="sitesearch" value="http://localhost:1313/">
	</form>
</div>
<div class="widget-taglist widget">
	<h4 class="widget__title">Tags</h4>
	<div class="widget__content">
		<a class="widget-taglist__link widget__link btn" href="/tags/ai/" title="AI">AI (2)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/alfred/" title="Alfred">Alfred (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/applescript/" title="AppleScript">AppleScript (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/automation/" title="Automation">Automation (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/bettertouchtool/" title="BetterTouchTool">BetterTouchTool (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/blogging/" title="Blogging">Blogging (5)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/buttondown/" title="Buttondown">Buttondown (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/esphome/" title="ESPHome">ESPHome (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/github-pages/" title="GitHub Pages">GitHub Pages (2)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/home-assistant/" title="Home Assistant">Home Assistant (2)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/hugo/" title="Hugo">Hugo (6)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/obsidian/" title="Obsidian">Obsidian (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/podcasts/" title="Podcasts">Podcasts (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/raspberry-pi/" title="Raspberry Pi">Raspberry Pi (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/shortcuts/" title="Shortcuts">Shortcuts (21)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/simple-automation/" title="Simple Automation">Simple Automation (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/smart-home/" title="Smart Home">Smart Home (2)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/stream-deck/" title="Stream Deck">Stream Deck (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/webscraping/" title="WebScraping">WebScraping (5)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/workflow/" title="Workflow">Workflow (1)</a>
	</div>
</div><section class="widget clear-tags">
  <a class="all-posts-link" href="/">Clear All Selected Tags</a>
</section>
</aside>
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2025 Aidan Maurin-Jones.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>